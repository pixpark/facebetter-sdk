<template>
  <div class="home-container">
    <!-- é¡¶éƒ¨æ¸å˜èƒŒæ™¯åŒºåŸŸ -->
    <div class="header-section">
      <div class="header-gradient">
        <img src="/icons/header.png" alt="Header" class="header-image" />
        <button class="settings-btn" @click="showSettings">
          <img src="/icons/setting.png" alt="è®¾ç½®" class="icon-white" />
        </button>
      </div>
    </div>

    <!-- æ»šåŠ¨å†…å®¹åŒºåŸŸ -->
    <div class="scroll-content">
      <!-- ä¸¤ä¸ªå¤§æŒ‰é’®ï¼ˆä¸€åŠå‹ä½é¡¶éƒ¨å›¾ç‰‡ï¼Œä¸€åŠå‹ä½ç™½è‰²åŒºåŸŸï¼‰ -->
      <div class="primary-buttons">
        <button class="btn-primary btn-beauty-effect" @click="navigateToCamera(null)">
          <img src="/icons/camera2.png" alt="ç¾é¢œç‰¹æ•ˆ" class="btn-icon" />
          <span>ç¾é¢œç‰¹æ•ˆ</span>
        </button>
        <button class="btn-primary btn-beauty-template" @click="showComingSoon('ç¾é¢œæ¨¡æ¿')">
          <img src="/icons/beautycard3.png" alt="ç¾é¢œæ¨¡æ¿" class="btn-icon" />
          <span>ç¾é¢œæ¨¡æ¿</span>
        </button>
      </div>
      
      <!-- ç»Ÿä¸€çš„ç™½è‰²å®¹å™¨ï¼ˆåŒ…å«åŠŸèƒ½ç½‘æ ¼å’ŒåŸå­èƒ½åŠ›ï¼Œé¡¶éƒ¨åœ†è§’ï¼Œå‹ä½èƒŒæ™¯å›¾ç‰‡ï¼‰ -->
      <div class="white-content-container">
        <!-- åŠŸèƒ½ç½‘æ ¼ -->
        <div class="feature-grid">
          <!-- ç¬¬1è¡Œ -->
          <div class="feature-item" @click="navigateToCamera('beauty')">
            <img src="/icons/meiyan.png" alt="ç¾é¢œ" class="feature-icon" />
            <div class="feature-label">ç¾é¢œ</div>
          </div>
          <div class="feature-item" @click="navigateToCamera('reshape')">
            <img src="/icons/meixing2.png" alt="ç¾å‹" class="feature-icon" />
            <div class="feature-label">ç¾å‹</div>
          </div>
          <div class="feature-item" @click="navigateToCamera('makeup')">
            <img src="/icons/meizhuang.png" alt="ç¾å¦†" class="feature-icon" />
            <div class="feature-label">ç¾å¦†</div>
          </div>
          <div class="feature-item disabled" @click="showComingSoon('ç¾ä½“')">
            <img src="/icons/meiti.png" alt="ç¾ä½“" class="feature-icon" />
            <div class="feature-label">ç¾ä½“</div>
            <span class="soon-badge">Soon</span>
          </div>

          <!-- ç¬¬2è¡Œ -->
          <div class="feature-item disabled" @click="showComingSoon('æ»¤é•œ')">
            <img src="/icons/lvjing.png" alt="æ»¤é•œ" class="feature-icon" />
            <div class="feature-label">æ»¤é•œ</div>
            <span class="soon-badge">Soon</span>
          </div>
          <div class="feature-item disabled" @click="showComingSoon('è´´çº¸')">
            <img src="/icons/tiezhi2.png" alt="è´´çº¸" class="feature-icon" />
            <div class="feature-label">è´´çº¸</div>
            <span class="soon-badge">Soon</span>
          </div>
          <div class="feature-item" @click="navigateToCamera('virtual_bg')">
            <img src="/icons/xunibeijing.png" alt="è™šæ‹ŸèƒŒæ™¯" class="feature-icon" />
            <div class="feature-label">è™šæ‹ŸèƒŒæ™¯</div>
          </div>
          <div class="feature-item disabled" @click="showComingSoon('ç”»è´¨è°ƒæ•´')">
            <img src="/icons/huazhitiaozheng2.png" alt="ç”»è´¨è°ƒæ•´" class="feature-icon" />
            <div class="feature-label">ç”»è´¨è°ƒæ•´</div>
            <span class="soon-badge">Soon</span>
          </div>
        </div>

        <!-- åŸå­èƒ½åŠ›åŒºåŸŸ -->
        <div class="atomic-capabilities-section">
          <h2 class="section-title">åŸå­èƒ½åŠ›</h2>
          <div class="atomic-grid">
            <div class="feature-item disabled" @click="showComingSoon('æ¢å‘è‰²')">
              <img src="/icons/huanfase.png" alt="æ¢å‘è‰²" class="feature-icon" />
              <div class="feature-label">æ¢å‘è‰²</div>
              <span class="soon-badge">Soon</span>
            </div>
            <div class="feature-item disabled" @click="showComingSoon('é£æ ¼æ•´è£…')">
              <img src="/icons/fengge.png" alt="é£æ ¼æ•´è£…" class="feature-icon" />
              <div class="feature-label">é£æ ¼æ•´è£…</div>
              <span class="soon-badge">Soon</span>
            </div>
            <div class="feature-item" @click="showComingSoon('äººè„¸æ£€æµ‹')">
              <img src="/icons/renlianjiance.png" alt="äººè„¸æ£€æµ‹" class="feature-icon" />
              <div class="feature-label">äººè„¸æ£€æµ‹</div>
            </div>
            <div class="feature-item disabled" @click="showComingSoon('æ‰‹åŠ¿æ£€æµ‹')">
              <img src="/icons/shoushi.png" alt="æ‰‹åŠ¿æ£€æµ‹" class="feature-icon" />
              <div class="feature-label">æ‰‹åŠ¿æ£€æµ‹</div>
              <span class="soon-badge">Soon</span>
            </div>
            <div class="feature-item disabled" @click="showComingSoon('ç»¿å¹•æŠ å›¾')">
              <img src="/icons/lvmukoutu.png" alt="ç»¿å¹•æŠ å›¾" class="feature-icon" />
              <div class="feature-label">ç»¿å¹•æŠ å›¾</div>
              <span class="soon-badge">Soon</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script setup>
import { useRouter } from 'vue-router'

const router = useRouter()

const navigateToCamera = (tab) => {
  if (tab) {
    router.push({ path: '/camera', query: { tab } })
  } else {
    router.push('/camera')
  }
}

const showComingSoon = (feature) => {
  alert(`${feature}åŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾… ğŸ¨`)
}

const showSettings = () => {
  alert('è®¾ç½®åŠŸèƒ½å¼€å‘ä¸­ï¼Œæ•¬è¯·æœŸå¾… âš™ï¸')
}
</script>

<style scoped>
.home-container {
  width: 100%;
  max-width: 1200px;
  min-height: 100vh;
  background: #f0f0f0; /* æµ…ç°è‰²èƒŒæ™¯ï¼Œä¸ç™½è‰²å®¹å™¨åŒºåˆ† */
  overflow-y: auto;
  position: relative;
  margin: 0 auto;
}

/* é¡¶éƒ¨æ¸å˜èƒŒæ™¯åŒºåŸŸ */
.header-section {
  position: fixed;
  top: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 100%;
  max-width: 1200px;
  height: 250px;
  z-index: 1;
  pointer-events: none;
}

.header-section .settings-btn {
  pointer-events: auto;
}

.header-gradient {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
}

.header-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  position: absolute;
  top: 0;
  left: 0;
}

.icon-white {
  filter: brightness(0) invert(1);
  width: 20px;
  height: 20px;
}

.settings-btn {
  position: absolute;
  top: 40px;
  right: 20px;
  width: 28px;
  height: 28px;
  background: transparent;
  border: none;
  cursor: pointer;
  z-index: 3;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* æ»šåŠ¨å†…å®¹åŒºåŸŸ */
.scroll-content {
  padding: 0 0 40px 0;
  margin-top: 215px;
  position: relative;
  z-index: 2;
  max-width: 1200px;
  margin-left: auto;
  margin-right: auto;
}

/* ä¸¤ä¸ªå¤§æŒ‰é’® */
.primary-buttons {
  display: flex;
  gap: 8px;
  padding: 0 20px;
  margin-top: -35px;
  margin-bottom: -35px;
  position: relative;
  z-index: 20;
  /* ç§»é™¤ box-shadowï¼Œé¿å…é˜´å½±å½±å“ç™½è‰²å®¹å™¨çš„è§†è§‰æ•ˆæœ */
  /* box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); */
  pointer-events: auto;
  /* ç¡®ä¿æŒ‰é’®å®¹å™¨æœ¬èº«æ²¡æœ‰èƒŒæ™¯è‰²ï¼Œé¿å…å½±å“ä¸‹é¢çš„ç™½è‰²å®¹å™¨ */
  background: transparent;
  max-width: 600px; /* é™åˆ¶ä¸»æŒ‰é’®å®¹å™¨æœ€å¤§å®½åº¦ */
  margin-left: auto;
  margin-right: auto;
}

/* å“åº”å¼è®¾è®¡ï¼šæ ¹æ®å±å¹•å®½åº¦è°ƒæ•´ä¸»æŒ‰é’®å®½åº¦ */
@media (min-width: 768px) {
  .primary-buttons {
    max-width: 600px;
  }
}

@media (min-width: 1024px) {
  .primary-buttons {
    max-width: 600px;
  }
}

@media (min-width: 1280px) {
  .primary-buttons {
    max-width: 600px;
  }
}

/* ç»Ÿä¸€çš„ç™½è‰²å®¹å™¨ï¼ˆåŒ…å«åŠŸèƒ½ç½‘æ ¼å’ŒåŸå­èƒ½åŠ›ï¼Œé¡¶éƒ¨åœ†è§’ï¼Œå‹ä½èƒŒæ™¯å›¾ç‰‡ï¼‰ */
.white-content-container {
  background: #ffffff;
  border-radius: 24px 24px 0 0;
  padding: 24px 12px 24px;
  padding-top: 60px; /* å¢åŠ é¡¶éƒ¨å†…è¾¹è·ï¼Œä¸ºä¸»æŒ‰é’®ç•™å‡ºç©ºé—´ */
  margin-top: -35px;
  margin-bottom: 0;
  position: relative;
  z-index: 1;
  overflow: hidden;
  /* ç¡®ä¿ç™½è‰²å®¹å™¨å»¶ä¼¸åˆ°åº•éƒ¨ï¼Œè¦†ç›–ç°è‰²èƒŒæ™¯ */
  min-height: calc(100vh - 215px);
}

.btn-primary {
  flex: 1;
  height: 72px;
  border-radius: 12px;
  border: none;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 12px;
  font-size: 18px;
  font-weight: bold;
  cursor: pointer;
  transition: transform 0.2s, opacity 0.2s;
}

.btn-icon {
  width: 28px;
  height: 28px;
  object-fit: contain;
}

.btn-primary:active {
  transform: scale(0.98);
}

.btn-beauty-effect {
  background: #424242;
  color: white;
}

.btn-beauty-effect .btn-icon {
  filter: brightness(0) saturate(100%) invert(63%) sepia(95%) saturate(427%) hue-rotate(70deg) brightness(98%) contrast(88%);
}

.btn-beauty-template {
  background: linear-gradient(135deg, #a0f196 0%, #d4fc79 100%);
  color: black;
}

.btn-beauty-template .btn-icon {
  filter: brightness(0);
}


.feature-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 6px;
  margin-top: 40px; /* å‘ä¸‹ç§»åŠ¨ï¼Œä¸ä¸»æŒ‰é’®ä¿æŒè·ç¦» */
  margin-bottom: 12px;
  padding: 0 12px;
}

/* å“åº”å¼è®¾è®¡ï¼šæ ¹æ®å±å¹•å®½åº¦è°ƒæ•´æŒ‰é’®æ•°é‡å’Œé—´è· */
@media (min-width: 640px) {
  .feature-grid {
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
    padding: 0 16px;
  }
}

@media (min-width: 768px) {
  .feature-grid {
    grid-template-columns: repeat(6, 1fr);
    gap: 10px;
    padding: 0 20px;
  }
}

@media (min-width: 1024px) {
  .feature-grid {
    grid-template-columns: repeat(7, 1fr);
    gap: 12px;
    padding: 0 24px;
  }
}

@media (min-width: 1280px) {
  .feature-grid {
    grid-template-columns: repeat(8, 1fr);
    gap: 16px;
    padding: 0 32px;
  }
}

.feature-item {
  aspect-ratio: 1;
  background: #f5f5f5;
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 8px;
  cursor: pointer;
  transition: background 0.2s;
  position: relative;
}

.feature-item:not(.disabled):active {
  background: #e0e0e0;
}

.feature-item.disabled {
  opacity: 0.5;
}

.feature-icon {
  width: 22px;
  height: 22px;
  object-fit: contain;
  margin-bottom: 4px;
  filter: brightness(0) saturate(100%) invert(26%) sepia(0%) saturate(0%) hue-rotate(0deg) brightness(96%) contrast(89%);
}

.feature-item.disabled .feature-icon {
  opacity: 0.5;
}

.feature-label {
  font-size: 12px;
  color: #757575;
  text-align: center;
}

.soon-badge {
  position: absolute;
  top: 4px;
  right: 4px;
  background: #ff9800;
  color: white;
  font-size: 9px;
  padding: 2px 4px;
  border-radius: 4px;
  font-weight: bold;
}

/* åŸå­èƒ½åŠ›åŒºåŸŸï¼ˆåœ¨ç™½è‰²å®¹å™¨å†…ï¼Œå…±äº«èƒŒæ™¯ï¼Œç¡®ä¿æ²¡æœ‰ç‹¬ç«‹èƒŒæ™¯ï¼‰ */
.atomic-capabilities-section {
  padding: 8px 16px 24px;
  margin-top: 0;
  background: transparent;
}

.section-title {
  font-size: 18px;
  font-weight: bold;
  color: #424242;
  margin-bottom: 16px;
}

.atomic-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 6px;
}

/* å“åº”å¼è®¾è®¡ï¼šæ ¹æ®å±å¹•å®½åº¦è°ƒæ•´åŸå­èƒ½åŠ›æŒ‰é’®æ•°é‡å’Œé—´è· */
@media (min-width: 640px) {
  .atomic-grid {
    grid-template-columns: repeat(5, 1fr);
    gap: 8px;
  }
}

@media (min-width: 768px) {
  .atomic-grid {
    grid-template-columns: repeat(6, 1fr);
    gap: 10px;
  }
}

@media (min-width: 1024px) {
  .atomic-grid {
    grid-template-columns: repeat(7, 1fr);
    gap: 12px;
  }
}

@media (min-width: 1280px) {
  .atomic-grid {
    grid-template-columns: repeat(8, 1fr);
    gap: 16px;
  }
}
</style>

